(function(){"use strict";var t={8378:function(t,e,s){s(3975);var a=s(2130),n=(s(7057),s(1911)),i=(s(4663),s(338)),r=(s(9497),s(7384)),o=(s(6624),s(8235)),l=(s(2943),s(7735)),c=(s(9735),s(520)),u=(s(4112),s(5263)),h=(s(5758),s(976)),d=(s(6283),s(1197)),p=(s(8538),s(5992)),m=s(8935),g=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("router-view")],1)},f=[],v={name:"MusicAppApp"},y=v,A=s(1001),w=(0,A.Z)(y,g,f,!1,null,"4297f299",null),Z=w.exports,C=s(2809),I=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"main"},[s("div",{staticClass:"header"},[t._v("推荐歌单")]),s("van-row",{attrs:{type:"flex",justify:"space-between",gutter:"6"}},t._l(t.resList,(function(e){return s("van-col",{key:e.id,attrs:{span:"8"}},[s("van-image",{attrs:{fit:"contain",width:"100",height:"100",src:e.picUrl}}),s("p",[t._v(t._s(e.name))])],1)})),1),s("div",{staticClass:"header"},[t._v("最新音乐")]),t._l(t.newsongList,(function(t){return s("song-item",{key:t.id,attrs:{name:t.name,author:t.song.artists[0].name,id:t.id}})}))],2)},b=[],L=s(6166),T=s.n(L);T().defaults.baseURL="https://netease-cloud-music-api-sooty-phi.vercel.app/";var O=T();const G=t=>O({url:"/personalized",params:t}),M=t=>O({url:"/personalized/newsong",params:t}),S=t=>O({url:"/search",params:t}),k=t=>O({url:`/song/detail?ids=${t}`,method:"GET"}),P=t=>O({url:`/lyric?id=${t}`,method:"GET"}),x=G,B=M,E=S,U=k,Q=P;var R=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("van-cell",{attrs:{title:t.name,center:"",label:t.author},scopedSlots:t._u([{key:"right-icon",fn:function(){return[s("van-icon",{attrs:{name:"play-circle-o",size:"1.6rem"},on:{touchstart:t.playMusic}})]},proxy:!0}])})],1)},D=[],V={name:"MusicAppSongItem",props:{name:String,author:String,id:Number},methods:{playMusic(){this.$router.push({path:"/play",query:{id:this.id}})}}},j=V,z=(0,A.Z)(j,R,D,!1,null,"e7b2f1a0",null),_=z.exports,F={name:"HomeIndex",data(){return{resList:[],newsongList:[]}},async created(){const t=await x({limit:6});this.resList=t.data.result;const e=await B();this.newsongList=e.data.result},components:{SongItem:_}},K=F,N=(0,A.Z)(K,I,b,!1,null,"af468cee",null),W=N.exports,q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"main"},[s("van-search",{attrs:{background:"#4fc08d",shape:"round",placeholder:"请输入搜索关键词","input-align":"left"},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}}),0===this.songlist.length?s("div",{staticClass:"li_song"},[s("p",[t._v("实时热搜")]),s("ul",t._l(t.daysonglist,(function(e){return s("li",{key:e.id,staticClass:"hot_item",on:{click:function(s){return t.onsearch(e.name)}}},[t._v(t._s(e.name))])})),0)]):s("div",{staticClass:"song"},[s("p",[t._v("最佳匹配")]),t._l(t.songlist,(function(t){return s("song-item",{key:t.id,attrs:{name:t.name,author:t.artists[0].name}})}))],2)],1)},H=[],J={name:"SearchIndex",data(){return{searchValue:"",songlist:[],daysonglist:[],timer:null}},async created(){const t=await B();this.daysonglist=t.data.result},methods:{async onsearch(t){this.searchValue=t;const e=await E({keywords:this.searchValue});this.songlist=e.data.result.songs,setTimeout((()=>{clearTimeout(this.timer)}))}},watch:{async searchValue(){if(clearTimeout(this.timer),0===this.searchValue.length)return this.songlist=[];this.timer=setTimeout((async()=>{const t=await E({keywords:this.searchValue});this.songlist=t.data.result.songs}),2e3)}},components:{SongItem:_}},X=J,Y=(0,A.Z)(X,q,H,!1,null,"6daea896",null),$=Y.exports,tt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("van-nav-bar",{attrs:{title:t.layout_title,fixed:""}}),s("keep-alive",[s("router-view")],1),s("van-tabbar",{attrs:{route:""}},[s("van-tabbar-item",{attrs:{replace:"",to:"/layout/home",icon:"home-o"}},[t._v("首页")]),s("van-tabbar-item",{attrs:{replace:"",to:"/layout/search",icon:"search"}},[t._v("搜索")])],1)],1)},et=[],st={name:"LayoutIndex",data(){return{layout_title:this.$route.meta.title}},watch:{$route(){this.layout_title=this.$route.meta.title}}},at=st,nt=(0,A.Z)(at,tt,et,!1,null,"08316156",null),it=nt.exports,rt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"play"},[s("div",{staticClass:"song-bg",style:"background-image: url("+(t.songInfo&&t.songInfo.al&&t.songInfo.al.picUrl)+"?imageView&thumbnail=360y360&quality=75&tostatic=0);"}),s("div",{staticClass:"header"},[s("van-icon",{staticClass:"left-incon",attrs:{name:"arrow-left",size:"20"},on:{click:function(e){return t.$router.back()}}})],1),s("div",{staticClass:"song-wrapper"},[s("div",{staticClass:"song-turn ani",style:"animation-play-state:"+(t.playState?"running":"paused")},[s("div",{staticClass:"song-img"},[s("img",{staticStyle:{width:"100%"},attrs:{src:(t.songInfo&&t.songInfo.al&&t.songInfo.al.picUrl)+"?imageView&thumbnail=360y360&quality=75&tostatic=0",alt:"",onerror:t.errorImage}})])]),s("div",{staticClass:"start-box",on:{click:t.audioStart}},[s("span",{directives:[{name:"show",rawName:"v-show",value:!t.playState,expression:"!playState"}],staticClass:"song-start"})]),s("div",{staticClass:"song-msg"},[s("h2",{staticClass:"m-song-h2"},[s("span",{staticClass:"m-song-sname"},[t._v(t._s(t.songInfo.name)+"-"+t._s(t.songInfo&&t.songInfo.ar&&t.songInfo.ar[0].name))])]),s("div",{staticClass:"lrcContent"},[s("p",{staticClass:"lrc"},[t._v(t._s(t.curLyric))])])]),s("div",{staticClass:"needle",style:"transform: rotate("+t.needleDeg+");"})]),s("audio",{ref:"audio",attrs:{preload:"true",src:"https://music.163.com/song/media/outer/url?id="+t.id+".mp3"}})])},ot=[],lt={components:{[n.Z.name]:n.Z},name:"PlayMusic",data(){return{playState:!1,id:this.$route.query.id,songInfo:{},lyric:{},curLyric:"",lastLy:"",errorImage:'this.src="'+s(9137)+'"'}},computed:{needleDeg(){return this.playState?"-7deg":"-38deg"}},methods:{async getSong(){const t=await U(this.id);this.songInfo=t.data.songs[0];const e=await Q(this.id),s=e.data.lrc.lyric;this.lyric=this._formatLyr(s),this.curLyric=this.lyric[0]},_formatLyr(t){let e=/\[.+?\]/g,s=t.match(e);console.log(s);let a=t.split(/\[.+?\]/).slice(1);console.log(a);let n={};return s.forEach(((t,e)=>{let s=60*t.split(":")[0].split("")[2],i="0"===t.split(":")[1].split(".")[0].split("")[0]?t.split(":")[1].split(".")[0].split("")[1]:t.split(":")[1].split(".")[0];n[s+Number(i)]=a[e]})),console.log(n),n},audioStart(){this.playState?this.$refs.audio.pause():this.$refs.audio.play(),this.playState=!this.playState},showLyric(){this.$refs.audio.addEventListener("timeupdate",(()=>{let t=Math.floor(this.$refs.audio.currentTime);this.lyric[t]?(this.curLyric=this.lyric[t],this.lastLy=this.curLyric):this.curLyric=this.lastLy}))}},mounted(){this.getSong(),this.showLyric(),console.log(this.$route.query.id)}},ct=lt,ut=(0,A.Z)(ct,rt,ot,!1,null,"11588a0c",null),ht=ut.exports;m.Z.use(C.Z);const dt=[{path:"/",redirect:"/layout"},{path:"/layout",redirect:"/layout/home",component:it,children:[{path:"home",component:W,meta:{title:"首页"}},{path:"search",component:$,meta:{title:"搜索"}}]},{path:"/play",component:ht,meta:{title:"播放"}}],pt=new C.Z({routes:dt});var mt=pt;m.Z.config.productionTip=!1,m.Z.use(p.Z),m.Z.use(d.Z),m.Z.use(h.Z),m.Z.use(u.Z),m.Z.use(c.Z),m.Z.use(l.Z),m.Z.use(o.Z),m.Z.use(r.Z),m.Z.use(i.Z),m.Z.use(n.Z),m.Z.use(a.Z),new m.Z({router:mt,render:t=>t(Z)}).$mount("#app")},9137:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKgAAACoCAMAAABDlVWGAAABJlBMVEUAAAAAAAD////l5eX///9iYmKDg4Pn5+f///9YWFj////09PT////4+Pjt7e3///////9oaGhBQUH////////////////CwsIaGhr///8xMTEkJCT////7+/vp6en///////////////+srKyoqKienp58fHz////y8vKTk5P///8EBAT////////////////V1dW3t7f////////////////////v7++jo6N9fX3///////+UlJT////s7Oz////Nzc3///////+RkZGPj495eXkTExP////////29vb////k5OTPz882Njb////////////c3Nz///////9ycnJsbGz///9dXV3////////Q0ND///9QUFD///////////////////9FeiN6AAAAYXRSTlNmAP3c+oWT3ueB9vA19ealRId5EQbuurpu83RxD/nh05dfAquooo+M7JtzaSolE+vMspJ3Wj7w6KSQj6ucKeXNxLWnmpmObVYd8t3axXZRSt7TvbKLideCeSzHnn4V3Nh6YarbPAAABlRJREFUeNrU14lWEmEYh/GXcdj3HQTZRCkS913UNE2zbLd9Oc/930Q2LmVpwPAC03MD/M5835n/IC6dkqHnzcVoZvdkLp2HfHruZDcTXWw+DyVdOilAt6uNjI8782Ua1W2XjTShtdDSmzRdlH6zFKq5bKQBTS5H57gqXJrP1tsb7kShkBPJFQoJ90a7np0vhblqLrrc8R7oQ4vVPZOLIp8mp8flzsanJ59FuMjcqxZdHVKFxvYDWK1lPQXpooInu4ZVYD/m6pAWNLn0DSvvekJ6KLHuxerb0qyrQwrQViV/oZzKSc/lpi6sgUrLdSN16MyWARBcOBWbnS4EAYytj67r1KGtqMUseaSvPCWLGr14u+pDZysmwFhc+i4+BmBWZgcATTXTFvO9qOS3qOlmShu68g7A6xa13F6A7yuq0ORnA9jZENU2dgDjc1IPGvMB4QNR7+AJ4IspQVObBjDmF+Wur6qxmdKAbpeBoEcGlCcIlLf7hx7lOzxOlYeaP+oTmmoYQFsGWhswGql+oMUMEInLgItHgEzRPvS43OHYVY+/fGwXGvIBkzKU6oAvZA8aywOPZEg9AvIxO9AXAZg4lKF1OAGBF71DX5jw5EyG2NkTMJ/3Co2ZcM8tQ819D8xYb9CVgA2nijSw0gs0tArBzk59aRBWQ91Dj30QjssIiofBd9wttFiGiTMZSWcTUC52B629Bg5lRB0Cr2tdQRvAfRlZ94FGN9AjA+oywupgHHWGzuRhTEbaGORnOkFTZYj4ZaT5I1BOdYBuAnEZcXFg89/QmAFtGXltMGL/ghZ9I7+g19fUV/wHtAJBvzggfxAqd0NXDPCII/KAsXIXNPXOIQd/efjvUndAmxB2xMH/zB+G5u3Qr2k4EMd0AOmvt0IrsCMOagcqt0FbJkyLg5oGs3ULNApecVReiP4NnTHALY7KDcbHv6BbDno1XTUGW39CWwa8F4flB6P1B3TRgQ/UeqSLN6GzAQd83f1dHAKzN6AfoCQOrARLN6Andr9GpiITT9/KwPLAye/QGATFTusAxsOCDKogxH6D7sOC2GkNq+B9GVALsP8LWgzAqdjJ4LJXCRlIpxAoXkOrtteT6yYmH8gg8kL1GroHU/1CoTSQBZ6CvSto0oRc/1DM7GNRLwdm8hK6DF5RgMI9j6jnheVLaBTWdaAwPy7KrUP0Alqbg4QWlPCU6JaAuZoFDcGaqEHh6RdRLQIhC/oBsppQzAXVN1UWlixoBjyqUIhozr8H3vyE1lYhpwnVnv8CpH9CZyAi2lAIPtK8pDPn0Cp8UoWqz/8zqJ5DGzCpCdWf/0lonEMzMK0J1Z//acicQ30wrgnVn/9x8LkkCWFRherPfxiSEgKvLlR//r0QkmWY14Xqz/88LEsTsqpQ/fm3RlQWoa4L1Z//OixKFNq6UP35vw9RycDGMKAYD3P9vEhlF9y6UP35d8OuvISELlR//hPwUqxh0oTqz781TbIKueFB4em4rb/Mq5IfMpRn0nOPIS+ADBUatvcz/w/0B/X2VgMACMNQ9AMnWOADKwT/QuahyZYcDcte7e146X9W+vFmWmEzOeOJGfjMCmWOEubMYw7no7wizHPHvMuMAMFIOo5IxsiOjJDLSOOM2cDYN44hxliMjGnL2OAOWMCgGgz84uBEDKDFIG8ORLhzLPO2Y5kK6PpMdJiBsR28nQkMOBEMJtTixISY4JUTZWPCgVXevesgCINhGG7dZPLEIg7GRRsMTsaoMTEOnmLUuBgn+e//JuTHGt0aKT3y3QIFpj6vO9ctnbnAmr9PIysefn0E0PfhkjW92HFtnQHULn5AAG9aISZGF3NaQYxVrInRrcVYBW4H5vkPEPIfuIV5UGXhClHT8Qv9oXQ/MckoTfb+wVTGqK8ZUl9+4mmUnpGj03pOmzlH5y/w5w6ZiAil+G9qA0KpkfWMTxKsJ6530wel3try9CwjSscg27BTDcw321gHjzyuEjj9IbwP1hPeDqHo2abP0pn5XMR/NhTB/fyo2gv3q0gh1JSkEHCrUuMSG1VxCdxDOtfR1ZDr4AGUwIUACi5JJZMyx1RHUgY3kIn0LBuFQk2EFlv7J3t0+id7JPi86wlJsfm9FUVbQrZR1LrPmQ0hKZfSXC7Fzr5LeD7uGoYBQBCGV56PS2g5ewGy+NkUNbjr9gAAAABJRU5ErkJggg=="}},e={};function s(a){var n=e[a];if(void 0!==n)return n.exports;var i=e[a]={exports:{}};return t[a](i,i.exports,s),i.exports}s.m=t,function(){var t=[];s.O=function(e,a,n,i){if(!a){var r=1/0;for(u=0;u<t.length;u++){a=t[u][0],n=t[u][1],i=t[u][2];for(var o=!0,l=0;l<a.length;l++)(!1&i||r>=i)&&Object.keys(s.O).every((function(t){return s.O[t](a[l])}))?a.splice(l--,1):(o=!1,i<r&&(r=i));if(o){t.splice(u--,1);var c=n();void 0!==c&&(e=c)}}return e}i=i||0;for(var u=t.length;u>0&&t[u-1][2]>i;u--)t[u]=t[u-1];t[u]=[a,n,i]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var a in e)s.o(e,a)&&!s.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,a){var n,i,r=a[0],o=a[1],l=a[2],c=0;if(r.some((function(e){return 0!==t[e]}))){for(n in o)s.o(o,n)&&(s.m[n]=o[n]);if(l)var u=l(s)}for(e&&e(a);c<r.length;c++)i=r[c],s.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return s.O(u)},a=self["webpackChunkmusic_app"]=self["webpackChunkmusic_app"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=s.O(void 0,[998],(function(){return s(8378)}));a=s.O(a)})();
//# sourceMappingURL=app.ddbc5c73.js.map